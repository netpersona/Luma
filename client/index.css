@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * COLOR VARIABLES ARE SET BY THE THEME SYSTEM
 * See client/src/lib/themes.ts for theme definitions
 * The applyTheme() function injects CSS with html:root and html.dark selectors
 * which have higher specificity than these fallbacks
 */

/* Fallback values - will be overridden by theme system */
:root {
  /* Fallback for older browsers - border intensity calculations */
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  --primary-border: hsl(var(--primary));
  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  --secondary-border: hsl(var(--secondary));
  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  --muted-border: hsl(var(--muted));
  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  --accent-border: hsl(var(--accent));
  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  --destructive-border: hsl(var(--destructive));
  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
}

.dark {
  /* Fallback for older browsers - border intensity calculations */
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  --primary-border: hsl(var(--primary));
  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  --secondary-border: hsl(var(--secondary));
  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  --muted-border: hsl(var(--muted));
  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  --accent-border: hsl(var(--accent));
  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  --destructive-border: hsl(var(--destructive));
  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
  
  /* Apply serif font to headings for cottagecore feel */
  h1, h2, h3, h4, h5, h6 {
    @apply font-serif;
  }
}

/**
 * Using the elevate system.
 * Automatic contrast adjustment.
 *
 * <element className="hover-elevate" />
 * <element className="active-elevate-2" />
 *
 * // Using the tailwind utility when a data attribute is "on"
 * <element className="toggle-elevate data-[state=on]:toggle-elevated" />
 * // Or manually controlling the toggle state
 * <element className="toggle-elevate toggle-elevated" />
 *
 * Elevation systems have to handle many states.
 * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)
 * - toggled or not
 * - focused or not (this is not handled with these utilities)
 *
 * Even without handling focused or not, this is six possible combinations that
 * need to be distinguished from eachother visually.
 */
@layer utilities {

  /* Hide ugly search cancel button in Chrome until we can style it properly */
  input[type="search"]::-webkit-search-cancel-button {
    @apply hidden;
  }

  /* Placeholder styling for contentEditable div */
  [contenteditable][data-placeholder]:empty::before {
    content: attr(data-placeholder);
    color: hsl(var(--muted-foreground));
    pointer-events: none;
  }

  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of
   * buttons/badges can remove the automatic brightness adjustment on interactions
   * and program their own. */
  .no-default-hover-elevate {}

  .no-default-active-elevate {}


  /**
   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.
   * This way they can stack/compound. Both will overlap the parent's borders!
   * So borders will be automatically adjusted both on toggle, and hover/active,
   * and they will be compounded.
   */
  .toggle-elevate::before,
  .toggle-elevate-2::before {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    /*border-radius: inherit;   match rounded corners */
    border-radius: inherit;
    z-index: -1;
    /* sits behind content but above backdrop */
  }

  .toggle-elevate.toggle-elevated::before {
    background-color: var(--elevate-2);
  }

  /* If there's a 1px border, adjust the inset so that it covers that parent's border */
  .border.toggle-elevate::before {
    inset: -1px;
  }

  /* Does not work on elements with overflow:hidden! */
  .hover-elevate:not(.no-default-hover-elevate),
  .active-elevate:not(.no-default-active-elevate),
  .hover-elevate-2:not(.no-default-hover-elevate),
  .active-elevate-2:not(.no-default-active-elevate) {
    position: relative;
    z-index: 0;
  }

  .hover-elevate:not(.no-default-hover-elevate)::after,
  .active-elevate:not(.no-default-active-elevate)::after,
  .hover-elevate-2:not(.no-default-hover-elevate)::after,
  .active-elevate-2:not(.no-default-active-elevate)::after {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    /*border-radius: inherit;   match rounded corners */
    border-radius: inherit;
    z-index: 999;
    /* sits in front of content */
  }

  .hover-elevate:hover:not(.no-default-hover-elevate)::after,
  .active-elevate:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-1);
  }

  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,
  .active-elevate-2:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-2);
  }

  /* If there's a 1px border, adjust the inset so that it covers that parent's border */
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {
    inset: -1px;
  }
  
  /* Default neutral texture for .texture-paper (fallback) */
  .texture-paper {
    background-image: 
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.004) 2px,
        rgba(0, 0, 0, 0.004) 4px
      );
  }
  
  /* Theme-Specific Background Textures - Override .texture-paper for each theme */
  
  /* COTTAGECORE & VINTAGE: Warm linen crosshatch */
  [data-theme="cottagecore"] .texture-paper,
  [data-theme="cottage2"] .texture-paper {
    background-image: 
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(101, 67, 33, 0.015) 2px,
        rgba(101, 67, 33, 0.015) 4px
      ),
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 2px,
        rgba(101, 67, 33, 0.015) 2px,
        rgba(101, 67, 33, 0.015) 4px
      );
  }
  
  /* BAROQUE & REFINED: Rich burgundy damask with subtle leather texture */
  [data-theme="baroque"] .texture-paper,
  [data-theme="refined"] .texture-paper {
    background: linear-gradient(135deg, 
      hsl(var(--background)) 0%, 
      hsl(var(--background)) 40%,
      color-mix(in srgb, hsl(var(--background)) 97%, hsl(var(--primary)) 3%) 50%,
      hsl(var(--background)) 60%,
      hsl(var(--background)) 100%
    );
    background-image: 
      /* Damask pattern suggestion */
      radial-gradient(ellipse at 20% 30%, rgba(139, 105, 20, 0.02) 0%, transparent 40%),
      radial-gradient(ellipse at 80% 70%, rgba(212, 175, 55, 0.015) 0%, transparent 40%),
      radial-gradient(ellipse at 50% 50%, rgba(255, 215, 0, 0.008) 0%, transparent 50%),
      /* Leather grain texture */
      repeating-linear-gradient(
        45deg,
        transparent,
        transparent 3px,
        rgba(0, 0, 0, 0.008) 3px,
        rgba(0, 0, 0, 0.008) 6px
      );
  }
  
  /* ART DECO: Geometric metallic shimmer */
  [data-theme="artdeco"] .texture-paper {
    background-image: 
      /* Sunburst rays */
      repeating-conic-gradient(
        from 0deg at 50% 50%,
        transparent 0deg,
        rgba(255, 215, 0, 0.01) 2deg,
        transparent 4deg
      ),
      /* Geometric grid */
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 40px,
        rgba(212, 175, 55, 0.015) 40px,
        rgba(212, 175, 55, 0.015) 41px
      ),
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 40px,
        rgba(212, 175, 55, 0.015) 40px,
        rgba(212, 175, 55, 0.015) 41px
      );
  }
  
  /* ART NOUVEAU: Organic flowing curves and floral motifs */
  [data-theme="artnouveau"] .texture-paper {
    background-image: 
      /* Flowing organic curves */
      radial-gradient(ellipse at 30% 20%, rgba(139, 90, 43, 0.02) 0%, transparent 50%),
      radial-gradient(ellipse at 70% 80%, rgba(184, 134, 11, 0.015) 0%, transparent 50%),
      radial-gradient(circle at 50% 50%, rgba(109, 76, 61, 0.008) 0%, transparent 60%),
      /* Subtle vine-like pattern */
      repeating-linear-gradient(
        60deg,
        transparent,
        transparent 8px,
        rgba(139, 90, 43, 0.008) 8px,
        rgba(139, 90, 43, 0.008) 9px
      );
  }
  
  /* ACANTHUS CLASSICAL: Marble with botanical leaf patterns */
  [data-theme="acanthus"] .texture-paper {
    background-image: 
      /* Marble veining */
      linear-gradient(
        120deg,
        transparent 0%,
        rgba(122, 157, 84, 0.015) 30%,
        transparent 31%,
        transparent 60%,
        rgba(139, 105, 20, 0.01) 70%,
        transparent 71%
      ),
      /* Classical texture */
      radial-gradient(circle at 40% 40%, rgba(122, 157, 84, 0.02) 0%, transparent 50%),
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 3px,
        rgba(74, 95, 74, 0.01) 3px,
        rgba(74, 95, 74, 0.01) 6px
      );
  }
  
  /* GOTHIC MYSTERY: Cathedral stone with mystical atmosphere */
  [data-theme="gothic"] .texture-paper {
    background-image: 
      /* Mystical glow */
      radial-gradient(circle at 30% 20%, rgba(139, 0, 139, 0.03) 0%, transparent 40%),
      radial-gradient(circle at 70% 80%, rgba(147, 112, 219, 0.02) 0%, transparent 40%),
      /* Stone texture */
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 4px,
        rgba(88, 24, 69, 0.015) 4px,
        rgba(88, 24, 69, 0.015) 8px
      ),
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 6px,
        rgba(45, 20, 60, 0.01) 6px,
        rgba(45, 20, 60, 0.01) 12px
      );
  }
  
  /* DARK ACADEMIA: Aged parchment and wood grain */
  [data-theme="darkacademia"] .texture-paper {
    background-image: 
      /* Parchment aging */
      radial-gradient(ellipse at 20% 30%, rgba(139, 90, 43, 0.015) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 70%, rgba(101, 67, 33, 0.01) 0%, transparent 50%),
      /* Wood grain suggestion */
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 1px,
        rgba(74, 51, 36, 0.012) 1px,
        rgba(74, 51, 36, 0.012) 2px
      ),
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 8px,
        rgba(74, 51, 36, 0.008) 8px,
        rgba(74, 51, 36, 0.008) 9px
      );
  }
  
  /* BAROQUE 2: Alternative baroque with deeper richness */
  [data-theme="baroque2"] .texture-paper {
    background: linear-gradient(135deg, 
      hsl(var(--background)) 0%, 
      color-mix(in srgb, hsl(var(--background)) 98%, hsl(var(--primary)) 2%) 50%,
      hsl(var(--background)) 100%
    );
    background-image: 
      radial-gradient(ellipse at 50% 50%, rgba(255, 215, 0, 0.012) 0%, transparent 50%),
      repeating-linear-gradient(
        45deg,
        transparent,
        transparent 4px,
        rgba(212, 175, 55, 0.008) 4px,
        rgba(212, 175, 55, 0.008) 8px
      );
  }
  
  /* Legacy texture-linen support (can still be used for specific elements) */
  .texture-linen {
    background-image: 
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 1px,
        rgba(0, 0, 0, 0.01) 1px,
        rgba(0, 0, 0, 0.01) 2px
      ),
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 1px,
        rgba(0, 0, 0, 0.01) 1px,
        rgba(0, 0, 0, 0.01) 2px
      );
  }
}

/* ========================================
   THEME-SPECIFIC FLOURISHES - APPLIED TO ENTIRE APPLICATION
   
   These styles apply when a theme is selected in Settings.
   Designed to be tasteful and balanced for production use.
   ======================================== */

/* ==========================================
   BAROQUE OPULENCE - Ornate 17th Century
   ========================================== */

/* Subtle background flourish for entire app */
[data-theme="baroque"] body {
  background-image: radial-gradient(circle at 30% 50%, rgba(139, 105, 20, 0.03) 0%, transparent 50%);
}

/* Dramatic heading effects for h1 and h2 only */
[data-theme="baroque"] h1 {
  background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 3px 12px rgba(255, 215, 0, 0.3));
  letter-spacing: 0.06em;
  font-weight: 900;
}

[data-theme="baroque"] h2 {
  background: linear-gradient(135deg, #d4af37 0%, #FFD700 50%, #d4af37 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 2px 8px rgba(212, 175, 55, 0.25));
  letter-spacing: 0.05em;
  font-weight: 700;
}

/* Keep demo container styles for demo pages */
[data-theme="baroque"] .theme-demo-container {
  background: linear-gradient(135deg, #1a0a0f 0%, #2d1219 50%, #1a0a0f 100%);
  min-height: 100vh;
  padding: 2rem;
}

[data-theme="baroque"] .theme-demo-container h1,
[data-theme="baroque"] .theme-demo-container h2 {
  background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 4px 16px rgba(255, 215, 0, 0.4));
  letter-spacing: 0.08em;
  font-weight: 900;
}

[data-theme="baroque"] .theme-demo-container h3 {
  color: #d4af37;
  filter: drop-shadow(0 2px 8px rgba(212, 175, 55, 0.3));
  letter-spacing: 0.05em;
}

/* ==========================================
   BAROQUE REFINED - Dramatic Gold Scrollwork
   ========================================== */

/* Subtle background flourish for entire app */
[data-theme="baroquerefined"] body {
  background-image: radial-gradient(circle at 20% 50%, rgba(139, 105, 20, 0.04) 0%, transparent 50%), 
                    radial-gradient(circle at 80% 80%, rgba(139, 69, 19, 0.03) 0%, transparent 50%);
}

/* Dramatic heading effects for h1 and h2 only */
[data-theme="baroquerefined"] h1 {
  background: linear-gradient(135deg, #d4af37 0%, #FFD700 30%, #FFA500 50%, #FFD700 70%, #d4af37 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 3px 16px rgba(255, 215, 0, 0.35));
  letter-spacing: 0.08em;
  font-weight: 900;
}

[data-theme="baroquerefined"] h2 {
  background: linear-gradient(135deg, #8b6914 0%, #d4af37 50%, #8b6914 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 2px 10px rgba(212, 175, 55, 0.3));
  letter-spacing: 0.06em;
  font-weight: 800;
}

/* Keep demo container styles for demo pages */
[data-theme="baroquerefined"] .theme-demo-container {
  background: #0a0604;
  background-image: radial-gradient(circle at 20% 50%, rgba(139, 105, 20, 0.05) 0%, transparent 50%), 
                    radial-gradient(circle at 80% 80%, rgba(139, 69, 19, 0.05) 0%, transparent 50%);
  min-height: 100vh;
  padding: 2rem;
}

[data-theme="baroquerefined"] .theme-demo-container h1 {
  background: linear-gradient(135deg, #d4af37 0%, #FFD700 30%, #FFA500 50%, #FFD700 70%, #d4af37 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 4px 20px rgba(255, 215, 0, 0.4));
  text-shadow: 0 0 40px rgba(255, 215, 0, 0.3);
  letter-spacing: 0.1em;
  font-weight: 900;
}

[data-theme="baroquerefined"] .theme-demo-container h2 {
  background: linear-gradient(135deg, #8b6914 0%, #d4af37 50%, #8b6914 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 3px 12px rgba(212, 175, 55, 0.35));
  letter-spacing: 0.08em;
  font-weight: 800;
}

[data-theme="baroquerefined"] .theme-demo-container h3 {
  color: #c9a961;
  filter: drop-shadow(0 2px 8px rgba(201, 169, 97, 0.3));
  letter-spacing: 0.15em;
  text-transform: uppercase;
  font-size: 0.9em;
}

/* Corner glyphs - scoped to demo container only */
[data-theme="baroquerefined"] .theme-demo-container .card {
  position: relative;
}

[data-theme="baroquerefined"] .theme-demo-container .card::before {
  content: "‚ïî";
  position: absolute;
  top: 0.5rem;
  left: 0.5rem;
  font-size: 2rem;
  color: #8b6914;
  opacity: 0.6;
  pointer-events: none;
  z-index: 10;
}

[data-theme="baroquerefined"] .theme-demo-container .card::after {
  content: "‚ïó";
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  font-size: 2rem;
  color: #8b6914;
  opacity: 0.6;
  pointer-events: none;
  z-index: 10;
}

/* Ornamental dividers - scoped to demo container */
[data-theme="baroquerefined"] .theme-demo-container hr,
[data-theme="baroquerefined"] .theme-demo-container .divider {
  border-color: #8b6914;
  border-width: 2px;
  position: relative;
  margin: 2rem 0;
}

[data-theme="baroquerefined"] .theme-demo-container hr::before,
[data-theme="baroquerefined"] .theme-demo-container .divider::before {
  content: "‚ü°";
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  background: #0a0604;
  padding: 0 1rem;
  color: #d4af37;
  font-size: 1.5rem;
}

/* ==========================================
   ACANTHUS CLASSICAL - Botanical Antiquity
   ========================================== */

/* Subtle background flourish for entire app */
[data-theme="acanthus"] body {
  background-image: radial-gradient(circle at 30% 40%, rgba(122, 157, 84, 0.03) 0%, transparent 50%),
                    radial-gradient(circle at 70% 60%, rgba(139, 105, 20, 0.02) 0%, transparent 50%);
}

/* Classical heading effects for h1 and h2 only */
[data-theme="acanthus"] h1 {
  color: #4a5f4a;
  filter: drop-shadow(0 2px 8px rgba(74, 95, 74, 0.15));
  letter-spacing: 0.1em;
  text-transform: uppercase;
  font-weight: 700;
}

[data-theme="acanthus"] h2 {
  color: #5d7a5d;
  filter: drop-shadow(0 2px 6px rgba(93, 122, 93, 0.12));
  letter-spacing: 0.08em;
}

/* Keep demo container styles for demo pages */
[data-theme="acanthus"] .theme-demo-container {
  background: linear-gradient(135deg, #e8e4dc 0%, #d4cfc4 100%);
  background-image: radial-gradient(circle at 30% 40%, rgba(122, 157, 84, 0.05) 0%, transparent 50%),
                    radial-gradient(circle at 70% 60%, rgba(139, 105, 20, 0.03) 0%, transparent 50%);
  min-height: 100vh;
  padding: 2rem;
}

[data-theme="acanthus"] .theme-demo-container h1 {
  color: #4a5f4a;
  filter: drop-shadow(0 3px 10px rgba(74, 95, 74, 0.2));
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-weight: 700;
}

[data-theme="acanthus"] .theme-demo-container h2 {
  color: #5d7a5d;
  filter: drop-shadow(0 2px 6px rgba(93, 122, 93, 0.15));
  letter-spacing: 0.1em;
}

[data-theme="acanthus"] .theme-demo-container h3 {
  color: #7a9d54;
  letter-spacing: 0.2em;
  font-size: 0.85em;
  text-transform: uppercase;
}

/* ==========================================
   ART DECO GLAMOUR - 1920s Streamlined Luxury
   ========================================== */

/* Subtle background flourish for entire app */
[data-theme="artdeco"] body {
  background-image: radial-gradient(circle at 50% 50%, rgba(255, 215, 0, 0.02) 0%, transparent 50%);
}

/* Geometric heading effects for h1 and h2 only */
[data-theme="artdeco"] h1 {
  background: linear-gradient(135deg, #FFD700 0%, #FFA500 25%, #FFD700 50%, #FFA500 75%, #FFD700 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 3px 16px rgba(255, 215, 0, 0.4));
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-weight: 900;
}

[data-theme="artdeco"] h2 {
  color: #d4af37;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  filter: drop-shadow(0 2px 8px rgba(212, 175, 55, 0.25));
  font-weight: 700;
}

/* Keep demo container styles for demo pages */
[data-theme="artdeco"] .theme-demo-container {
  background: linear-gradient(135deg, #0f1922 0%, #1a2332 100%);
  min-height: 100vh;
  padding: 2rem;
}

[data-theme="artdeco"] .theme-demo-container h1 {
  background: linear-gradient(135deg, #FFD700 0%, #FFA500 25%, #FFD700 50%, #FFA500 75%, #FFD700 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 4px 20px rgba(255, 215, 0, 0.6));
  letter-spacing: 0.15em;
  text-transform: uppercase;
  font-weight: 900;
}

[data-theme="artdeco"] .theme-demo-container h2,
[data-theme="artdeco"] .theme-demo-container h3 {
  color: #d4af37;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  filter: drop-shadow(0 2px 8px rgba(212, 175, 55, 0.3));
}

/* Geometric corner elements - scoped to demo container only */
[data-theme="artdeco"] .theme-demo-container .card {
  position: relative;
}

[data-theme="artdeco"] .theme-demo-container .card::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 60px;
  height: 60px;
  border-right: 3px solid #d4af37;
  border-bottom: 3px solid #d4af37;
  pointer-events: none;
  z-index: 10;
}

[data-theme="artdeco"] .theme-demo-container .card::after {
  content: "";
  position: absolute;
  bottom: 0;
  right: 0;
  width: 60px;
  height: 60px;
  border-left: 3px solid #d4af37;
  border-top: 3px solid #d4af37;
  pointer-events: none;
  z-index: 10;
}

/* ==========================================
   ART NOUVEAU - Organic Flowing Lines
   ========================================== */

/* Subtle background flourish for entire app */
[data-theme="artnouveau"] body {
  background-image: radial-gradient(circle at 50% 50%, rgba(139, 90, 43, 0.02) 0%, transparent 50%);
}

/* Organic heading effects for h1 and h2 only */
[data-theme="artnouveau"] h1 {
  background: linear-gradient(135deg, #8b5a2b 0%, #b8860b 50%, #8b5a2b 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 2px 10px rgba(139, 90, 43, 0.25));
  letter-spacing: 0.1em;
  font-style: italic;
}

[data-theme="artnouveau"] h2 {
  color: #6d4c3d;
  filter: drop-shadow(0 2px 6px rgba(109, 76, 61, 0.15));
  font-style: italic;
  letter-spacing: 0.06em;
}

/* Keep demo container styles for demo pages */
[data-theme="artnouveau"] .theme-demo-container {
  background: linear-gradient(135deg, #f4ebe0 0%, #e8dcc8 100%);
  min-height: 100vh;
  padding: 2rem;
}

[data-theme="artnouveau"] .theme-demo-container h1 {
  background: linear-gradient(135deg, #8b5a2b 0%, #b8860b 50%, #8b5a2b 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 3px 12px rgba(139, 90, 43, 0.3));
  letter-spacing: 0.12em;
  font-style: italic;
}

[data-theme="artnouveau"] .theme-demo-container h2 {
  color: #6d4c3d;
  filter: drop-shadow(0 2px 8px rgba(109, 76, 61, 0.2));
  font-style: italic;
}

[data-theme="artnouveau"] .theme-demo-container h3 {
  color: #8b5a2b;
  font-style: italic;
  letter-spacing: 0.08em;
}

/* ==========================================
   GOTHIC MYSTERY - Medieval Dark Romance
   ========================================== */

/* Subtle background flourish for entire app */
[data-theme="gothic"] body {
  background-image: radial-gradient(circle at 20% 30%, rgba(88, 24, 69, 0.08) 0%, transparent 50%),
                    radial-gradient(circle at 80% 70%, rgba(45, 20, 60, 0.05) 0%, transparent 50%);
}

/* Mystical heading effects for h1 and h2 only */
[data-theme="gothic"] h1 {
  color: #d8a0d8;
  text-shadow: 0 0 20px rgba(139, 0, 139, 0.5), 
               0 0 40px rgba(139, 0, 139, 0.2), 
               0 3px 16px rgba(139, 0, 139, 0.4);
  filter: drop-shadow(0 3px 12px rgba(147, 112, 219, 0.35));
  letter-spacing: 0.06em;
  font-weight: 700;
}

[data-theme="gothic"] h2 {
  color: #c8a0c8;
  text-shadow: 0 0 15px rgba(139, 0, 139, 0.4), 
               0 2px 10px rgba(139, 0, 139, 0.3);
  letter-spacing: 0.05em;
}

/* Keep demo container styles for demo pages */
[data-theme="gothic"] .theme-demo-container {
  background: #0a0408;
  background-image: radial-gradient(circle at 20% 30%, rgba(88, 24, 69, 0.15) 0%, transparent 50%),
                    radial-gradient(circle at 80% 70%, rgba(45, 20, 60, 0.1) 0%, transparent 50%);
  min-height: 100vh;
  padding: 2rem;
}

[data-theme="gothic"] .theme-demo-container h1 {
  color: #d8a0d8;
  text-shadow: 0 0 30px rgba(139, 0, 139, 0.8), 
               0 0 60px rgba(139, 0, 139, 0.4), 
               0 4px 20px rgba(139, 0, 139, 0.6);
  filter: drop-shadow(0 4px 16px rgba(147, 112, 219, 0.5));
  letter-spacing: 0.08em;
  font-weight: 700;
}

[data-theme="gothic"] .theme-demo-container h2 {
  color: #c8a0c8;
  text-shadow: 0 0 20px rgba(139, 0, 139, 0.6), 
               0 2px 12px rgba(139, 0, 139, 0.4);
  letter-spacing: 0.06em;
}

[data-theme="gothic"] .theme-demo-container h3 {
  color: #9370db;
  text-shadow: 0 0 15px rgba(147, 112, 219, 0.5);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-size: 0.9em;
}

/* ==========================================
   DARK ACADEMIA - Scholarly Mysticism
   ========================================== */

/* Subtle background flourish for entire app */
[data-theme="darkacademia"] body {
  background-image: radial-gradient(circle at 15% 25%, rgba(139, 105, 20, 0.05) 0%, transparent 40%),
                    radial-gradient(circle at 85% 75%, rgba(70, 50, 30, 0.04) 0%, transparent 40%);
}

/* Scholarly heading effects for h1 and h2 only */
[data-theme="darkacademia"] h1 {
  background: linear-gradient(135deg, #c9a961 0%, #d4af37 50%, #c9a961 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 3px 12px rgba(201, 169, 97, 0.35));
  letter-spacing: 0.06em;
  font-weight: 700;
}

[data-theme="darkacademia"] h2 {
  color: #c9a961;
  filter: drop-shadow(0 2px 10px rgba(201, 169, 97, 0.3));
  letter-spacing: 0.05em;
  font-style: italic;
}

/* Keep demo container styles for demo pages */
[data-theme="darkacademia"] .theme-demo-container {
  background: linear-gradient(135deg, #1a1410 0%, #0f0a08 100%);
  background-image: radial-gradient(circle at 15% 25%, rgba(139, 105, 20, 0.08) 0%, transparent 40%),
                    radial-gradient(circle at 85% 75%, rgba(70, 50, 30, 0.06) 0%, transparent 40%);
  min-height: 100vh;
  padding: 2rem;
}

[data-theme="darkacademia"] .theme-demo-container h1 {
  background: linear-gradient(135deg, #c9a961 0%, #d4af37 50%, #c9a961 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 4px 16px rgba(201, 169, 97, 0.5));
  text-shadow: 0 0 30px rgba(201, 169, 97, 0.4);
  letter-spacing: 0.08em;
}

[data-theme="darkacademia"] .theme-demo-container h2 {
  color: #c9a961;
  filter: drop-shadow(0 3px 12px rgba(201, 169, 97, 0.4));
  letter-spacing: 0.06em;
  font-style: italic;
}

[data-theme="darkacademia"] .theme-demo-container h3 {
  color: #8b6914;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  font-size: 0.85em;
}

/* ==========================================
   COTTAGECORE FIRESIDE - Warm & Cozy
   ========================================== */

/* Subtle background flourish for entire app */
[data-theme="cottagecore"] body {
  background-image: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(139, 101, 66, 0.01) 2px, rgba(139, 101, 66, 0.01) 4px),
                    repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(139, 101, 66, 0.01) 2px, rgba(139, 101, 66, 0.01) 4px);
}

/* Cozy heading effects for h1 and h2 only */
[data-theme="cottagecore"] h1 {
  color: #5d4e37;
  filter: drop-shadow(0 2px 6px rgba(93, 78, 55, 0.15));
  letter-spacing: 0.03em;
}

[data-theme="cottagecore"] h2 {
  color: #6d5d45;
  filter: drop-shadow(0 1px 4px rgba(109, 93, 69, 0.12));
  letter-spacing: 0.02em;
}

/* Keep demo container styles for demo pages */
[data-theme="cottagecore"] .theme-demo-container {
  background: linear-gradient(135deg, #f9f5ee 0%, #f5ece0 100%);
  background-image: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(139, 101, 66, 0.02) 2px, rgba(139, 101, 66, 0.02) 4px),
                    repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(139, 101, 66, 0.02) 2px, rgba(139, 101, 66, 0.02) 4px);
  min-height: 100vh;
  padding: 2rem;
}

[data-theme="cottagecore"] .theme-demo-container h1 {
  color: #5d4e37;
  filter: drop-shadow(0 2px 8px rgba(93, 78, 55, 0.2));
  letter-spacing: 0.04em;
}

[data-theme="cottagecore"] .theme-demo-container h2 {
  color: #6d5d45;
  filter: drop-shadow(0 2px 6px rgba(109, 93, 69, 0.15));
}

[data-theme="cottagecore"] .theme-demo-container h3 {
  color: #8b7355;
  letter-spacing: 0.08em;
}

/* ==========================================
   COTTAGECORE VINTAGE - Storybook Charm
   ========================================== */

/* Subtle background flourish for entire app */
[data-theme="cottagecorevintage"] body {
  background-image: repeating-linear-gradient(0deg, transparent, transparent 3px, rgba(139, 101, 66, 0.015) 3px, rgba(139, 101, 66, 0.015) 6px),
                    repeating-linear-gradient(90deg, transparent, transparent 3px, rgba(139, 101, 66, 0.015) 3px, rgba(139, 101, 66, 0.015) 6px);
}

/* Vintage heading effects for h1 and h2 only */
[data-theme="cottagecorevintage"] h1 {
  color: #5d4e37;
  filter: drop-shadow(0 2px 6px rgba(93, 78, 55, 0.18));
  letter-spacing: 0.04em;
  font-style: italic;
}

[data-theme="cottagecorevintage"] h2 {
  color: #6d5d45;
  filter: drop-shadow(0 1px 4px rgba(109, 93, 69, 0.15));
  font-style: italic;
  letter-spacing: 0.03em;
}

/* Keep demo container styles for demo pages */
[data-theme="cottagecorevintage"] .theme-demo-container {
  background: #faf6ee;
  background-image: repeating-linear-gradient(0deg, transparent, transparent 3px, rgba(139, 101, 66, 0.03) 3px, rgba(139, 101, 66, 0.03) 6px),
                    repeating-linear-gradient(90deg, transparent, transparent 3px, rgba(139, 101, 66, 0.03) 3px, rgba(139, 101, 66, 0.03) 6px);
  min-height: 100vh;
  padding: 2rem;
}

[data-theme="cottagecorevintage"] .theme-demo-container h1 {
  color: #5d4e37;
  filter: drop-shadow(0 2px 8px rgba(93, 78, 55, 0.25));
  letter-spacing: 0.05em;
  font-style: italic;
}

[data-theme="cottagecorevintage"] .theme-demo-container h2 {
  color: #6d5d45;
  filter: drop-shadow(0 2px 6px rgba(109, 93, 69, 0.2));
  font-style: italic;
}

[data-theme="cottagecorevintage"] .theme-demo-container h3 {
  color: #7a9d54;
  letter-spacing: 0.12em;
  font-style: italic;
}

/* ==========================================
   THEME DECORATIVE FLOURISHES LAYER
   
   Reusable decorative classes that adapt based on active theme.
   Apply to specific elements to enable ornamental styling.
   ========================================== */

@layer theme-decor {
  
  /* =================================================================
     DECORATIVE FLOURISHES - SURFACE-HOOK BASED THEMING
     
     Auto-applied to elements with data-surface attributes:
     - [data-surface="content"] - Main content areas (drop caps)
     - [data-surface="section-header"] - Section headers (ornamental accents)
     - [data-surface="card"] - Card components (corner flourishes)
     - [data-surface="divider"] - Dividers (ornamental symbols)
     
     Also available as opt-in utility classes:
     - .drop-cap, .decorative-divider, .decorative-header, .decorative-panel
     
     Demo pages use .theme-demo-container for automatic application
     ================================================================= */
  
  /* ===== DECORATIVE DROP CAPS ===== */
  
  /* Auto-apply using surface hooks */
  [data-surface="content"] > p:first-of-type::first-letter,
  .theme-demo-container p:first-of-type::first-letter,
  /* Opt-in utility class */
  .drop-cap::first-letter {
    float: left;
    font-size: 3.5em;
    line-height: 0.85;
    margin: 0.1em 0.1em 0 0;
    font-weight: 700;
  }
  
  /* Theme-specific drop cap styling */
  [data-theme="cottagecore"] [data-surface="content"] > p:first-of-type::first-letter,
  [data-theme="cottagecore"] .theme-demo-container p:first-of-type::first-letter,
  [data-theme="cottagecore"] .drop-cap::first-letter,
  [data-theme="cottagecorevintage"] [data-surface="content"] > p:first-of-type::first-letter,
  [data-theme="cottagecorevintage"] .theme-demo-container p:first-of-type::first-letter,
  [data-theme="cottagecorevintage"] .drop-cap::first-letter {
    color: #daa520;
    filter: drop-shadow(0 2px 8px rgba(218, 165, 32, 0.4));
    font-family: 'Vollkorn', Georgia, serif;
  }
  
  [data-theme="baroque"] [data-surface="content"] > p:first-of-type::first-letter,
  [data-theme="baroque"] .theme-demo-container p:first-of-type::first-letter,
  [data-theme="baroque"] .drop-cap::first-letter,
  [data-theme="baroquerefined"] [data-surface="content"] > p:first-of-type::first-letter,
  [data-theme="baroquerefined"] .theme-demo-container p:first-of-type::first-letter,
  [data-theme="baroquerefined"] .drop-cap::first-letter {
    background: linear-gradient(135deg, #FFD700 0%, #d4af37 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(0 3px 12px rgba(255, 215, 0, 0.6));
    font-family: 'Playfair Display', Georgia, serif;
  }
  
  [data-theme="acanthus"] [data-surface="content"] > p:first-of-type::first-letter,
  [data-theme="acanthus"] .theme-demo-container p:first-of-type::first-letter,
  [data-theme="acanthus"] .drop-cap::first-letter {
    color: #7a9d54;
    filter: drop-shadow(0 2px 8px rgba(122, 157, 84, 0.4));
    font-family: 'Trajan Pro', 'Times New Roman', serif;
  }
  
  [data-theme="artdeco"] [data-surface="content"] > p:first-of-type::first-letter,
  [data-theme="artdeco"] .theme-demo-container p:first-of-type::first-letter,
  [data-theme="artdeco"] .drop-cap::first-letter {
    background: linear-gradient(180deg, #FFD700 0%, #d4af37 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(0 3px 15px rgba(255, 215, 0, 0.5));
    font-family: 'Futura', 'Century Gothic', sans-serif;
    letter-spacing: 0.05em;
  }
  
  [data-theme="artnouveau"] [data-surface="content"] > p:first-of-type::first-letter,
  [data-theme="artnouveau"] .theme-demo-container p:first-of-type::first-letter,
  [data-theme="artnouveau"] .drop-cap::first-letter {
    color: #b8860b;
    filter: drop-shadow(0 2px 10px rgba(184, 134, 11, 0.4));
    font-family: 'Garamond', Georgia, serif;
    font-style: italic;
  }
  
  [data-theme="gothic"] [data-surface="content"] > p:first-of-type::first-letter,
  [data-theme="gothic"] .theme-demo-container p:first-of-type::first-letter,
  [data-theme="gothic"] .drop-cap::first-letter {
    color: #d8a0d8;
    filter: drop-shadow(0 0 20px rgba(139, 0, 139, 0.8));
    font-family: 'Garamond', serif;
    text-shadow: 0 0 30px rgba(139, 0, 139, 0.6);
  }
  
  [data-theme="darkacademia"] [data-surface="content"] > p:first-of-type::first-letter,
  [data-theme="darkacademia"] .theme-demo-container p:first-of-type::first-letter,
  [data-theme="darkacademia"] .drop-cap::first-letter {
    color: #c9a961;
    filter: drop-shadow(0 0 15px rgba(201, 169, 97, 0.5));
    font-family: 'Crimson Text', Georgia, serif;
  }
  
  /* ===== DECORATIVE DIVIDERS ===== */
  /* Auto-apply to <hr> elements in content areas, sections, and articles */
  
  .reader-content hr,
  [data-surface="divider"],
  .content-section hr,
  [data-surface="divider"],
  article hr,
  section hr {
    border: none;
    height: 2px;
    position: relative;
    margin: 2rem 0;
  }
  
  /* Cottagecore themes - botanical flowers */
  [data-theme="cottagecore"] .reader-content hr,
  [data-surface="divider"],
  [data-theme="cottagecore"] .content-section hr,
  [data-surface="divider"],
  [data-theme="cottagecore"] article hr,
  [data-theme="cottagecore"] section hr,
  [data-theme="cottagecorevintage"] .reader-content hr,
  [data-surface="divider"],
  [data-theme="cottagecorevintage"] .content-section hr,
  [data-surface="divider"],
  [data-theme="cottagecorevintage"] article hr,
  [data-theme="cottagecorevintage"] section hr {
    border-top: 1px solid rgba(139, 101, 66, 0.2);
  }
  
  [data-theme="cottagecore"] .reader-content hr::before,
  [data-theme="cottagecore"] .content-section hr::before,
  [data-theme="cottagecore"] article hr::before,
  [data-theme="cottagecore"] section hr::before {
    content: "‚ùÄ";
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: hsl(var(--background));
    padding: 0 1rem;
    color: #daa520;
    font-size: 1.5rem;
  }
  
  [data-theme="cottagecorevintage"] .reader-content hr::before,
  [data-theme="cottagecorevintage"] .content-section hr::before,
  [data-theme="cottagecorevintage"] article hr::before,
  [data-theme="cottagecorevintage"] section hr::before {
    content: "‚úø ‚úø ‚úø";
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: hsl(var(--background));
    padding: 0 1rem;
    color: #daa520;
    font-size: 1.2rem;
  }
  
  /* Baroque themes - ornate symbols */
  [data-theme="baroque"] .reader-content hr,
  [data-surface="divider"],
  [data-theme="baroque"] .content-section hr,
  [data-surface="divider"],
  [data-theme="baroque"] article hr,
  [data-theme="baroque"] section hr {
    border-top: 2px solid #8b6914;
  }
  
  [data-theme="baroque"] .reader-content hr::before,
  [data-theme="baroque"] .content-section hr::before,
  [data-theme="baroque"] article hr::before,
  [data-theme="baroque"] section hr::before {
    content: "‚ú¶";
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: hsl(var(--background));
    padding: 0 1rem;
    color: #FFD700;
    font-size: 1.5rem;
  }
  
  [data-theme="baroquerefined"] .reader-content hr,
  [data-surface="divider"],
  [data-theme="baroquerefined"] .content-section hr,
  [data-surface="divider"],
  [data-theme="baroquerefined"] article hr,
  [data-theme="baroquerefined"] section hr {
    border-top: 2px solid #8b6914;
  }
  
  [data-theme="baroquerefined"] .reader-content hr::before,
  [data-theme="baroquerefined"] .content-section hr::before,
  [data-theme="baroquerefined"] article hr::before,
  [data-theme="baroquerefined"] section hr::before {
    content: "‚ü°";
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: hsl(var(--background));
    padding: 0 1rem;
    color: #d4af37;
    font-size: 1.5rem;
  }
  
  /* Acanthus - leaf symbol */
  [data-theme="acanthus"] .reader-content hr,
  [data-surface="divider"],
  [data-theme="acanthus"] .content-section hr,
  [data-surface="divider"],
  [data-theme="acanthus"] article hr,
  [data-theme="acanthus"] section hr {
    border-top: 2px solid rgba(122, 157, 84, 0.3);
  }
  
  [data-theme="acanthus"] .reader-content hr::before,
  [data-theme="acanthus"] .content-section hr::before,
  [data-theme="acanthus"] article hr::before,
  [data-theme="acanthus"] section hr::before {
    content: "‚ù¶";
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: hsl(var(--background));
    padding: 0 1rem;
    color: #7a9d54;
    font-size: 1.5rem;
  }
  
  /* Art Deco - geometric line */
  [data-theme="artdeco"] .reader-content hr,
  [data-surface="divider"],
  [data-theme="artdeco"] .content-section hr,
  [data-surface="divider"],
  [data-theme="artdeco"] article hr,
  [data-theme="artdeco"] section hr {
    height: 3px;
    background: linear-gradient(90deg, transparent, #d4af37, transparent);
  }
  
  [data-theme="artdeco"] .reader-content hr::before,
  [data-theme="artdeco"] .content-section hr::before,
  [data-theme="artdeco"] article hr::before,
  [data-theme="artdeco"] section hr::before {
    content: "‚óÜ";
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: hsl(var(--background));
    padding: 0 1rem;
    color: #FFD700;
    font-size: 1.5rem;
  }
  
  /* Art Nouveau - flowing symbol */
  [data-theme="artnouveau"] .reader-content hr,
  [data-surface="divider"],
  [data-theme="artnouveau"] .content-section hr,
  [data-surface="divider"],
  [data-theme="artnouveau"] article hr,
  [data-theme="artnouveau"] section hr {
    border-top: 2px solid rgba(139, 90, 43, 0.3);
  }
  
  [data-theme="artnouveau"] .reader-content hr::before,
  [data-theme="artnouveau"] .content-section hr::before,
  [data-theme="artnouveau"] article hr::before,
  [data-theme="artnouveau"] section hr::before {
    content: "‚ùÄ";
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: hsl(var(--background));
    padding: 0 1rem;
    color: #b8860b;
    font-size: 1.5rem;
  }
  
  /* Gothic - cross symbol */
  [data-theme="gothic"] .reader-content hr,
  [data-surface="divider"],
  [data-theme="gothic"] .content-section hr,
  [data-surface="divider"],
  [data-theme="gothic"] article hr,
  [data-theme="gothic"] section hr {
    height: 4px;
    background: linear-gradient(90deg, transparent, #8b008b, transparent);
    box-shadow: 0 0 10px rgba(139, 0, 139, 0.4);
  }
  
  [data-theme="gothic"] .reader-content hr::before,
  [data-theme="gothic"] .content-section hr::before,
  [data-theme="gothic"] article hr::before,
  [data-theme="gothic"] section hr::before {
    content: "‚úû";
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: hsl(var(--background));
    padding: 0 1rem;
    color: #d8a0d8;
    font-size: 1.8rem;
    filter: drop-shadow(0 0 15px rgba(139, 0, 139, 0.8));
  }
  
  /* Dark Academia - mystical star */
  [data-theme="darkacademia"] .reader-content hr,
  [data-surface="divider"],
  [data-theme="darkacademia"] .content-section hr,
  [data-surface="divider"],
  [data-theme="darkacademia"] article hr,
  [data-theme="darkacademia"] section hr {
    border-top: 1px solid #8b6914;
  }
  
  [data-theme="darkacademia"] .reader-content hr::before,
  [data-theme="darkacademia"] .content-section hr::before,
  [data-theme="darkacademia"] article hr::before,
  [data-theme="darkacademia"] section hr::before {
    content: "‚ú¶";
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: hsl(var(--background));
    padding: 0 1rem;
    color: #c9a961;
    font-size: 1.2rem;
    filter: drop-shadow(0 0 10px rgba(201, 169, 97, 0.4));
  }
  
  /* ===== DECORATIVE PANELS ===== */
  /* Apply to cards or sections that should have themed decoration */
  
  .decorative-panel {
    position: relative;
  }
  
  /* Cottagecore Vintage - vine corners */
  [data-theme="cottagecorevintage"] .decorative-panel::before,
  [data-theme="cottagecorevintage"] .decorative-panel::after {
    position: absolute;
    font-size: 2rem;
    color: #7a9d54;
    opacity: 0.5;
    pointer-events: none;
  }
  
  [data-theme="cottagecorevintage"] .decorative-panel::before {
    content: "üåø";
    top: 1rem;
    left: 1rem;
  }
  
  [data-theme="cottagecorevintage"] .decorative-panel::after {
    content: "üåø";
    top: 1rem;
    right: 1rem;
  }
  
  /* Baroque Refined - ornate corners */
  [data-theme="baroquerefined"] .decorative-panel::before,
  [data-theme="baroquerefined"] .decorative-panel::after {
    position: absolute;
    font-size: 2.5rem;
    color: #8b6914;
    opacity: 0.6;
    pointer-events: none;
  }
  
  [data-theme="baroquerefined"] .decorative-panel::before {
    content: "‚ïî";
    top: 0.5rem;
    left: 0.5rem;
  }
  
  [data-theme="baroquerefined"] .decorative-panel::after {
    content: "‚ïó";
    top: 0.5rem;
    right: 0.5rem;
  }
  
  /* Acanthus - leaf corners */
  [data-theme="acanthus"] .decorative-panel::before,
  [data-theme="acanthus"] .decorative-panel::after {
    position: absolute;
    font-size: 2rem;
    color: #7a9d54;
    opacity: 0.6;
    pointer-events: none;
  }
  
  [data-theme="acanthus"] .decorative-panel::before {
    content: "üçÉ";
    top: 1rem;
    left: 1rem;
    transform: rotate(-45deg);
  }
  
  [data-theme="acanthus"] .decorative-panel::after {
    content: "üçÉ";
    top: 1rem;
    right: 1rem;
    transform: rotate(45deg) scaleX(-1);
  }
  
  /* Art Deco - geometric corners */
  [data-theme="artdeco"] .decorative-panel::before,
  [data-theme="artdeco"] .decorative-panel::after {
    content: "";
    position: absolute;
    width: 60px;
    height: 60px;
    border: 3px solid #d4af37;
    pointer-events: none;
  }
  
  [data-theme="artdeco"] .decorative-panel::before {
    top: 0;
    left: 0;
    border-right: none;
    border-bottom: none;
  }
  
  [data-theme="artdeco"] .decorative-panel::after {
    top: 0;
    right: 0;
    border-left: none;
    border-bottom: none;
  }
  
  /* Gothic - mystical cross */
  [data-theme="gothic"] .decorative-panel::before {
    content: "‚úû";
    position: absolute;
    top: 1rem;
    left: 50%;
    transform: translateX(-50%);
    font-size: 2.5rem;
    color: #8b008b;
    opacity: 0.4;
    pointer-events: none;
    filter: drop-shadow(0 0 15px rgba(139, 0, 139, 0.6));
  }
  
  /* Dark Academia - occult symbols */
  [data-theme="darkacademia"] .decorative-panel::before,
  [data-theme="darkacademia"] .decorative-panel::after {
    position: absolute;
    font-size: 1.5rem;
    color: #8b6914;
    opacity: 0.4;
    pointer-events: none;
  }
  
  [data-theme="darkacademia"] .decorative-panel::before {
    content: "‚òΩ";
    top: 1.5rem;
    left: 1.5rem;
  }
  
  [data-theme="darkacademia"] .decorative-panel::after {
    content: "‚òæ";
    top: 1.5rem;
    right: 1.5rem;
  }
  
  /* ===== DECORATIVE BACKGROUNDS ===== */
  /* Opt-in textured backgrounds for special sections */
  
  .decorative-background {
    position: relative;
  }
  
  /* Art Nouveau - flowing SVG pattern in background */
  [data-theme="artnouveau"] .decorative-background::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0.03;
    pointer-events: none;
    background-image: 
      radial-gradient(circle at 30% 40%, rgba(184, 134, 11, 0.15) 0%, transparent 60%);
  }
  
  /* Gothic - radial purple wash */
  [data-theme="gothic"] .decorative-background::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0.4;
    pointer-events: none;
    background-image: 
      radial-gradient(circle at 20% 30%, rgba(88, 24, 69, 0.15) 0%, transparent 50%),
      radial-gradient(circle at 80% 70%, rgba(45, 20, 60, 0.1) 0%, transparent 50%);
  }
  
  /* Dark Academia - parchment gradient */
  [data-theme="darkacademia"] .decorative-background::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0.3;
    pointer-events: none;
    background-image: 
      radial-gradient(circle at 15% 25%, rgba(139, 105, 20, 0.08) 0%, transparent 40%),
      radial-gradient(circle at 85% 75%, rgba(70, 50, 30, 0.06) 0%, transparent 40%);
  }
  
  /* ===== SECTION HEADERS WITH ORNAMENTAL ACCENTS ===== */
  /* Auto-apply to h2 elements in main content areas and sections */
  
  .reader-content h2,
  .content-section h2,
  article h2,
  section h2 {
    position: relative;
    display: inline-block;
  }
  
  /* Cottagecore - flower accents */
  [data-theme="cottagecore"] .reader-content h2::before,
  [data-theme="cottagecore"] .content-section h2::before,
  [data-theme="cottagecore"] article h2::before,
  [data-theme="cottagecore"] section h2::before {
    content: "‚ùÄ ";
    color: #daa520;
    font-size: 1.2rem;
    margin-right: 0.5rem;
  }
  
  [data-theme="cottagecore"] .reader-content h2::after,
  [data-theme="cottagecore"] .content-section h2::after,
  [data-theme="cottagecore"] article h2::after,
  [data-theme="cottagecore"] section h2::after {
    content: " ‚ùÄ";
    color: #daa520;
    font-size: 1.2rem;
    margin-left: 0.5rem;
  }
  
  /* Baroque - ornate symbols */
  [data-theme="baroque"] .reader-content h2::before,
  [data-theme="baroque"] .content-section h2::before,
  [data-theme="baroque"] article h2::before,
  [data-theme="baroque"] section h2::before {
    content: "‚ú¶ ";
    color: #FFD700;
    font-size: 1.2rem;
    margin-right: 0.75rem;
  }
  
  [data-theme="baroque"] .reader-content h2::after,
  [data-theme="baroque"] .content-section h2::after,
  [data-theme="baroque"] article h2::after,
  [data-theme="baroque"] section h2::after {
    content: " ‚ú¶";
    color: #FFD700;
    font-size: 1.2rem;
    margin-left: 0.75rem;
  }
  
  /* Art Nouveau - floral motifs */
  [data-theme="artnouveau"] .reader-content h2::before,
  [data-theme="artnouveau"] .content-section h2::before,
  [data-theme="artnouveau"] article h2::before,
  [data-theme="artnouveau"] section h2::before {
    content: "‚úø ";
    color: #b8860b;
    font-size: 1.5rem;
    margin-right: 0.75rem;
  }
  
  [data-theme="artnouveau"] .reader-content h2::after,
  [data-theme="artnouveau"] .content-section h2::after,
  [data-theme="artnouveau"] article h2::after,
  [data-theme="artnouveau"] section h2::after {
    content: " ‚úø";
    color: #b8860b;
    font-size: 1.5rem;
    margin-left: 0.75rem;
  }
  
  /* Gothic - crosses */
  [data-theme="gothic"] .reader-content h2::before,
  [data-theme="gothic"] .content-section h2::before,
  [data-theme="gothic"] article h2::before,
  [data-theme="gothic"] section h2::before {
    content: "‚úû ";
    color: #d8a0d8;
    font-size: 1.3rem;
    margin-right: 0.75rem;
    filter: drop-shadow(0 0 10px rgba(139, 0, 139, 0.6));
  }
  
  [data-theme="gothic"] .reader-content h2::after,
  [data-theme="gothic"] .content-section h2::after,
  [data-theme="gothic"] article h2::after,
  [data-theme="gothic"] section h2::after {
    content: " ‚úû";
    color: #d8a0d8;
    font-size: 1.3rem;
    margin-left: 0.75rem;
    filter: drop-shadow(0 0 10px rgba(139, 0, 139, 0.6));
  }
  
  /* Dark Academia - mystical stars */
  [data-theme="darkacademia"] .reader-content h2::before,
  [data-theme="darkacademia"] .content-section h2::before,
  [data-theme="darkacademia"] article h2::before,
  [data-theme="darkacademia"] section h2::before {
    content: "‚ú¶ ";
    color: #c9a961;
    font-size: 1rem;
    margin-right: 0.75rem;
  }
  
  [data-theme="darkacademia"] .reader-content h2::after,
  [data-theme="darkacademia"] .content-section h2::after,
  [data-theme="darkacademia"] article h2::after,
  [data-theme="darkacademia"] section h2::after {
    content: " ‚ú¶";
    color: #c9a961;
    font-size: 1rem;
    margin-left: 0.75rem;
  }
  
  /* ===== ANIMATED GLOWS (respecting prefers-reduced-motion) ===== */
  
  @keyframes baroque-glow {
    0%, 100% {
      filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.4));
    }
    50% {
      filter: drop-shadow(0 0 25px rgba(255, 215, 0, 0.7));
    }
  }
  
  @keyframes gothic-glow {
    0%, 100% {
      filter: drop-shadow(0 0 20px rgba(139, 0, 139, 0.6));
    }
    50% {
      filter: drop-shadow(0 0 35px rgba(139, 0, 139, 0.9));
    }
  }
  
  /* Apply glow animations only if user hasn't requested reduced motion */
  @media (prefers-reduced-motion: no-preference) {
    [data-theme="baroque"] .animated-glow,
    [data-theme="baroquerefined"] .animated-glow {
      animation: baroque-glow 3s ease-in-out infinite;
    }
    
    [data-theme="gothic"] .animated-glow {
      animation: gothic-glow 4s ease-in-out infinite;
    }
  }
}

/* ===================================
   Uppy Upload Modal Theme Overrides
   =================================== */

/* Modal backdrop and container */
.uppy-Dashboard--modal {
  z-index: 9999 !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
}

.uppy-Dashboard--modal .uppy-Dashboard-overlay {
  background-color: rgba(0, 0, 0, 0.85) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 9998 !important;
}

.uppy-Dashboard--modal .uppy-Dashboard-inner {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  color: hsl(var(--card-foreground)) !important;
  box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3) !important;
}

/* Add texture to Uppy modal for cottagecore themes */
[data-theme="cottagecore"] .uppy-Dashboard-inner,
[data-theme="cottage2"] .uppy-Dashboard-inner,
[data-theme="refined"] .uppy-Dashboard-inner {
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.02) 2px,
      rgba(0, 0, 0, 0.02) 4px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.02) 2px,
      rgba(0, 0, 0, 0.02) 4px
    ) !important;
  background-blend-mode: multiply !important;
}

/* Add texture for acanthus theme */
[data-theme="acanthus"] .uppy-Dashboard-inner {
  background-image: radial-gradient(circle at 30% 40%, rgba(122, 157, 84, 0.03) 0%, transparent 50%),
                    radial-gradient(circle at 70% 60%, rgba(139, 105, 20, 0.02) 0%, transparent 50%) !important;
}

/* Add glamour to baroque themes */
[data-theme="baroque"] .uppy-Dashboard-inner,
[data-theme="baroque2"] .uppy-Dashboard-inner {
  background-image: radial-gradient(circle at 50% 50%, rgba(212, 175, 55, 0.03) 0%, transparent 50%) !important;
}

/* Add mystical glow for gothic theme */
[data-theme="gothic"] .uppy-Dashboard-inner {
  background-image: radial-gradient(circle at 50% 50%, rgba(139, 0, 139, 0.05) 0%, transparent 50%) !important;
  box-shadow: 0 10px 50px rgba(139, 0, 139, 0.3), 0 0 30px rgba(139, 0, 139, 0.1) !important;
}

/* Header */
.uppy-Dashboard-innerWrap {
  background-color: hsl(var(--card)) !important;
  border-radius: var(--radius) !important;
}

.uppy-Dashboard-title {
  color: hsl(var(--foreground)) !important;
  font-family: var(--font-sans) !important;
  font-weight: 600 !important;
}

/* Close button */
.uppy-Dashboard-close {
  color: hsl(var(--muted-foreground)) !important;
  transition: all 0.2s !important;
}

.uppy-Dashboard-close:hover {
  color: hsl(var(--foreground)) !important;
  background-color: hsl(var(--muted)) !important;
}

/* Drop area */
.uppy-Dashboard-AddFiles {
  background-color: hsl(var(--muted) / 0.3) !important;
  border: 2px dashed hsl(var(--border)) !important;
  border-radius: calc(var(--radius) - 0.5rem) !important;
  color: hsl(var(--muted-foreground)) !important;
}

.uppy-Dashboard-AddFiles:hover {
  background-color: hsl(var(--muted) / 0.5) !important;
  border-color: hsl(var(--primary)) !important;
}

.uppy-Dashboard-AddFiles-title {
  color: hsl(var(--foreground)) !important;
  font-family: var(--font-sans) !important;
}

.uppy-Dashboard-note {
  color: hsl(var(--muted-foreground)) !important;
  font-family: var(--font-sans) !important;
}

/* Browse button */
.uppy-Dashboard-browse {
  color: hsl(var(--primary)) !important;
  font-weight: 500 !important;
}

.uppy-Dashboard-browse:hover {
  color: hsl(var(--primary)) !important;
  text-decoration: underline !important;
}

/* File items */
.uppy-Dashboard-Item {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: calc(var(--radius) - 0.75rem) !important;
}

.uppy-Dashboard-Item-name {
  color: hsl(var(--foreground)) !important;
  font-family: var(--font-sans) !important;
}

.uppy-Dashboard-Item-status {
  color: hsl(var(--muted-foreground)) !important;
  font-family: var(--font-sans) !important;
}

.uppy-Dashboard-Item-fileInfo {
  color: hsl(var(--muted-foreground)) !important;
}

/* Progress bar */
.uppy-Dashboard-Item-progress {
  background-color: hsl(var(--muted)) !important;
}

.uppy-Dashboard-Item-progressIndicator {
  background-color: hsl(var(--primary)) !important;
}

/* Action buttons */
.uppy-Dashboard-Item-action {
  color: hsl(var(--muted-foreground)) !important;
}

.uppy-Dashboard-Item-action:hover {
  color: hsl(var(--foreground)) !important;
}

/* Upload button */
.uppy-StatusBar-actionBtn--upload {
  background-color: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
  border-radius: calc(var(--radius) - 1rem) !important;
  font-family: var(--font-sans) !important;
  font-weight: 500 !important;
  padding: 0.625rem 1.25rem !important;
  transition: all 0.2s !important;
}

.uppy-StatusBar-actionBtn--upload:hover {
  opacity: 0.9 !important;
}

.uppy-StatusBar-actionBtn--upload:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

/* Cancel/Done button */
.uppy-StatusBar-actionBtn--done,
.uppy-StatusBar-actionBtn--retry {
  background-color: hsl(var(--secondary)) !important;
  color: hsl(var(--secondary-foreground)) !important;
  border-radius: calc(var(--radius) - 1rem) !important;
  font-family: var(--font-sans) !important;
}

/* Status bar */
.uppy-StatusBar {
  background-color: hsl(var(--card)) !important;
  border-top: 1px solid hsl(var(--border)) !important;
  color: hsl(var(--muted-foreground)) !important;
}

.uppy-StatusBar-content {
  font-family: var(--font-sans) !important;
}

/* File type icons */
.uppy-Dashboard-Item-previewIcon {
  color: hsl(var(--primary)) !important;
}

/* Error states */
.uppy-Dashboard-Item-errorMessage {
  color: hsl(var(--destructive)) !important;
  font-family: var(--font-sans) !important;
}

/* Tabs (if multiple sources) */
.uppy-DashboardTab {
  color: hsl(var(--muted-foreground)) !important;
}

.uppy-DashboardTab:hover {
  color: hsl(var(--foreground)) !important;
  background-color: hsl(var(--muted)) !important;
}

.uppy-DashboardTab-btn:focus {
  outline: 2px solid hsl(var(--ring)) !important;
  outline-offset: 2px !important;
}

/* ============================================
   HIGH CONTRAST ACCESSIBILITY STYLES
   ============================================ */

/* Enhanced focus indicators for all interactive elements */
[data-theme="highcontrast"] *:focus-visible,
[data-theme="highcontrastdark"] *:focus-visible {
  outline: 3px solid hsl(var(--ring)) !important;
  outline-offset: 3px !important;
}

/* High contrast theme - larger borders */
[data-theme="highcontrast"] .border,
[data-theme="highcontrastdark"] .border {
  border-width: 2px !important;
}

/* High contrast buttons - clear visual distinction */
[data-theme="highcontrast"] button,
[data-theme="highcontrastdark"] button,
[data-theme="highcontrast"] [role="button"],
[data-theme="highcontrastdark"] [role="button"] {
  font-weight: 600;
}

/* Underline all links for non-color distinction */
[data-theme="highcontrast"] a:not([role="button"]),
[data-theme="highcontrastdark"] a:not([role="button"]) {
  text-decoration: underline;
  text-underline-offset: 2px;
}

/* High contrast cards have stronger borders */
[data-theme="highcontrast"] [data-slot="card"],
[data-theme="highcontrastdark"] [data-slot="card"] {
  border-width: 2px;
}

/* Progress bars - enhanced visibility */
[data-theme="highcontrast"] [role="progressbar"] > div,
[data-theme="highcontrastdark"] [role="progressbar"] > div {
  background-color: hsl(var(--primary)) !important;
}

/* Skip link visibility when focused */
[data-theme="highcontrast"] [data-testid="link-skip-navigation"]:focus,
[data-theme="highcontrastdark"] [data-testid="link-skip-navigation"]:focus {
  background-color: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
  padding: 1rem 1.5rem !important;
  font-size: 1.125rem !important;
  font-weight: 600 !important;
}

/* Ensure icons in high contrast have proper visibility */
[data-theme="highcontrast"] svg,
[data-theme="highcontrastdark"] svg {
  stroke-width: 2.5;
}
